<div class="container my-4 pt-5">
  <div class="table-responsive">
    <div class="bg-white rounded shadow-lg p-3">
      <table class="table table-striped table-bordered mb-0">
        <thead class="thead-dark">
          <tr>
            <th>Name</th>
            <th>Device</th>
            <th>Resolution</th>
            <th>FPS</th>
            <th>Codec</th>
            <th>Preset</th>
            <th>Tune</th>
            <th>Buffer</th>
            <th>Rotation</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let camera of cameras; let i = index">
            <ng-container *ngIf="editingIndex === i; else viewRow">
              <td>
                <input class="form-control" [(ngModel)]="editedCamera.name" />
              </td>
              <td>
                <input class="form-control" [(ngModel)]="editedCamera.device" />
              </td>
              <td>
                <input class="form-control" [(ngModel)]="editedCamera.resolution" />
              </td>
              <td>
                <input class="form-control" [(ngModel)]="editedCamera.fps" />
              </td>
              <td>
                <input class="form-control" [(ngModel)]="editedCamera.codec" />
              </td>
              <td>
                <input class="form-control" [(ngModel)]="editedCamera.preset" />
              </td>
              <td>
                <input class="form-control" [(ngModel)]="editedCamera.tune" />
              </td>
              <td>
                <input class="form-control" [(ngModel)]="editedCamera.buffer" />
              </td>
              <td>
                <input class="form-control" [(ngModel)]="editedCamera.rotation" />
              </td>
              <td>
                <button class="p-0 mx-1 border-0 bg-transparent" (click)="saveCamera(i)" title="Save">
                  <i class="bi bi-check" style="font-size: 1rem; color: #757575;"></i>
                </button>
                <button class="p-0 mx-1 border-0 bg-transparent" (click)="cancelEdit()" title="Cancel">
                  <i class="bi bi-x" style="font-size: 1rem; color: #757575;"></i>
                </button>
              </td>
            </ng-container>
            <ng-template #viewRow>
              <td>{{ camera.name }}</td>
              <td>{{ camera.device }}</td>
              <td>{{ camera.resolution }}</td>
              <td>{{ camera.fps }}</td>
              <td>{{ camera.codec }}</td>
              <td>{{ camera.preset }}</td>
              <td>{{ camera.tune }}</td>
              <td>{{ camera.buffer }}</td>
              <td>{{ camera.rotation }}</td>
              <td>
                <button class="p-0 mx-1 border-0 bg-transparent" (click)="editCamera(i)" title="Edit">
                  <i class="bi bi-pencil" style="font-size: 1rem; color: #757575;"></i>
                </button>
                <button class="p-0 mx-1 border-0 bg-transparent" (click)="deleteCamera(i)" title="Delete">
                  <i class="bi bi-x" style="font-size: 1rem; color: #757575;"></i>
                </button>
              </td>
            </ng-template>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
